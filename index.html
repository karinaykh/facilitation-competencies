<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Guide: Intercultural Teaching Competencies for GTAs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom scrollbar for sidebar */
        .sidebar-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .sidebar-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; /* Light gray track */
            border-radius: 10px;
        }
        .sidebar-scroll::-webkit-scrollbar-thumb {
            background: #a8a8a8; /* Medium gray thumb */
            border-radius: 10px;
        }
        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
            background: #888; /* Darker gray thumb on hover */
        }

        /* Custom list style for tips using indigo checkmarks */
        .tips-list {
            list-style: none; /* Remove default bullets */
            padding-left: 0;
        }
        .tips-list li {
            position: relative;
            padding-left: 1.75rem; /* Space for the icon */
            margin-bottom: 0.75rem; /* More space between tips */
            line-height: 1.6; /* Improve readability */
        }
        .tips-list li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.25em; /* Adjust vertical alignment */
            width: 1rem;
            height: 1rem;
            /* Indigo checkmark SVG */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2.5' stroke='%234f46e5' class='w-6 h-6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='m4.5 12.75 6 6 9-13.5' /%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
        }

        /* Smooth transition for content fade */
        #competency-content {
            transition: opacity 0.3s ease-in-out;
        }
        .fade-out { opacity: 0; }
        .fade-in { opacity: 1; }

        /* Sidebar transition for mobile */
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }

        /* Enhanced hover for sidebar links */
        #competency-nav a:hover {
            transform: translateX(2px); /* Slight shift on hover */
            transition: transform 0.15s ease-out, background-color 0.15s ease-in-out, color 0.15s ease-in-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 font-sans antialiased">
    <div class="relative min-h-screen md:flex">

        <div class="md:hidden flex justify-between items-center p-4 bg-white shadow-md sticky top-0 z-40">
            <span class="text-xl font-semibold text-gray-800">GTA Competency Guide</span>
            <button id="mobile-menu-button" class="text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>

        <aside id="sidebar" class="bg-white w-64 lg:w-72 space-y-6 p-6 shadow-lg absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 md:min-h-screen overflow-y-auto sidebar-scroll z-30 border-r border-gray-200">
             <h2 class="text-xl font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-3 flex items-center">
                <svg class="w-5 h-5 mr-2 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
                </svg>
                Competencies
            </h2>
            <nav id="competency-nav">
                <ul class="space-y-1">
                    </ul>
            </nav>
        </aside>

        <main class="flex-1 p-6 sm:p-8 md:p-10 lg:p-12 overflow-y-auto">
            <h1 class="text-3xl md:text-4xl font-bold mb-8 text-gray-900">Intercultural Teaching Competencies Guide</h1>
            <div id="competency-content" class="bg-white p-6 md:p-8 rounded-xl shadow-xl border border-gray-200 fade-in min-h-[400px]">
                </div>
        </main>

    </div>

    <script>
        // --- Data for the 10 Competencies (with Reflection Prompts) ---
        const competencies = [
             { // Introduction Section
                id: "introduction",
                title: "0. Introduction",
                // Using sky-500 (#0ea5e9) for the icon color
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" /></svg>`,
                content: `
                    <h2 class="text-2xl font-semibold mb-4 text-indigo-700 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" /></svg>
                        Welcome to the GTA Facilitation Competency Guide!
                    </h2>
                    <p class="text-gray-700 mb-4 leading-relaxed">As a Graduate Teaching Assistant (GTA) at HKUST, you play a crucial role in supporting student learning in an increasingly diverse academic environment. This guide introduces key facilitation competencies, grounded in the <strong class="font-semibold text-gray-800">Intercultural Teaching Competence (ITC) framework</strong> discussed in your workshop.</p>
                    <p class="text-gray-700 mb-4 leading-relaxed">Developing these competencies will help you:</p>
                    <ul class="list-disc list-inside text-gray-700 mb-4 space-y-1 pl-2">
                        <li>Facilitate tutorials and labs more effectively for all students.</li>
                        <li>Address diverse learning needs and communication styles.</li>
                        <li>Create a more inclusive and supportive learning environment.</li>
                        <li>Navigate potential cross-cultural challenges constructively.</li>
                    </ul>
                    <p class="text-gray-700 leading-relaxed">Use the menu on the left to explore each competency, understand its relevance through examples, and discover practical tips you can apply directly in your teaching.</p>
                `
            },
            {
                id: "comm-styles",
                title: "1. Facilitate Diverse Communication Styles",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-3.04 8.25-7.5 8.25S6 16.556 6 12c0-4.556 3.04-8.25 7.5-8.25s7.5 3.694 7.5 8.25Z" /></svg>`,
                definition: "Recognizing and accommodating diverse communication styles to promote inclusive discussions and encourage contributions from all students.",
                example: "In tutorials, some students might prefer to think before speaking, while others jump in quickly. Some may use examples (like storytelling), while others are more direct. A student's silence doesn't always mean they aren't engaged or don't understand.",
                tips: [
                    "<strong>Vary Participation Methods:</strong> Use Think-Pair-Share, written/anonymous questions, or targeted questions instead of only asking 'Any questions?'.",
                    "<strong>Acknowledge & Redirect:</strong> Validate different styles. Gently manage interruptions ('Let's let X finish first...'). Help summarize lengthy or indirect responses ('So, the key issue is X?').",
                    "<strong>Manage Silence:</strong> Wait longer after asking questions. Rephrase if needed. Avoid assuming silence means lack of understanding."
                ],
                reflection: "Consider your typical tutorial: Which participation methods do you rely on most? What's one new method you could try to encourage different communication styles?"
            },
            {
                id: "feedback",
                title: "2. Provide Feedback Across Cultures",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" /></svg>`,
                definition: "Adapting feedback styles to suit the needs of diverse learners, considering cultural differences in how feedback is given and received.",
                example: "Some students appreciate direct, concise feedback on errors, while others may perceive it as harsh and prefer more indirect, encouraging feedback.",
                tips: [
                    "<strong>Observe & Adapt:</strong> Pay attention to student reactions to feedback and adjust your approach.",
                    "<strong>Use 'Sandwich' or RISE Model:</strong> Start positive, give specific constructive criticism, end with encouragement/next steps.",
                    "<strong>Offer Different Formats:</strong> Use verbal, written comments, or brief audio/video feedback.",
                    "<strong>Check for Understanding:</strong> Ask students to summarize feedback or explain their next steps."
                ],
                reflection: "Think about the last time you gave feedback. How did you structure it? How could you adapt your feedback approach for a student who seems hesitant or defensive?"
            },
             {
                id: "linguistic-ability",
                title: "3. Tailor Messages (Linguistic Ability)",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 21l5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802" /></svg>`,
                definition: "Adjusting language use to ensure clear communication with diverse audiences, considering their linguistic abilities and prior knowledge.",
                example: "Using highly technical jargon or fast-paced explanations without pauses can exclude students who are non-native English speakers or less familiar with the specific terminology.",
                tips: [
                    "<strong>Speak Clearly & Pace Yourself:</strong> Avoid speaking too quickly; pause periodically.",
                    "<strong>Define Key Terms & Avoid Jargon:</strong> Explain technical terms; minimize slang.",
                    "<strong>Use Visual Aids:</strong> Supplement with diagrams, clear code snippets, or well-paced live demos.",
                    "<strong>Check for Comprehension:</strong> Use concept check questions (CCQs), not just 'Do you understand?'. Paraphrase complex ideas."
                ],
                reflection: "When explaining a complex topic, what's one specific thing you can do to make your language more accessible to students with varying linguistic abilities?"
            },
            {
                id: "barriers",
                title: "4. Recognize Participation Barriers",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636M15 9h.008v.008H15V9Zm-3 3h.008v.008H12v-3Zm-3 3h.008v.008H9v-3Z" /></svg>`,
                definition: "Identifying and addressing cultural, linguistic, or personal factors that may inhibit student participation in class discussions and activities.",
                example: "Students might hesitate due to fear of mistakes, cultural norms about questioning instructors, perceived lack of knowledge, or feeling intimidated.",
                tips: [
                    "<strong>Create a Welcoming Climate:</strong> State that questions/mistakes are welcome. Learn names.",
                    "<strong>Normalize Not Knowing:</strong> Share your own learning process appropriately.",
                    "<strong>Provide Structure:</strong> Use structured activities (think-pair-share, small groups) to lower participation barriers.",
                    "<strong>Be Approachable:</strong> Encourage office hour use; be mindful of non-verbal cues.",
                    "<strong>Notice Patterns:</strong> Gently create low-stakes opportunities for quieter students."
                ],
                reflection: "What might be some less obvious reasons for student silence in your tutorials? How can you create a safer environment for students to voice confusion or ask questions?"
            },
            {
                id: "risk-factors",
                title: "5. Identify Learner Risk Factors",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" /></svg>`,
                definition: "Being aware of potential emotional, cultural, or personal risks for students during class activities, and taking steps to create a safe and supportive learning environment.",
                example: "Discussing sensitive topics, putting students 'on the spot', or activities involving personal disclosure can create anxiety. Perceived unfairness or exclusion is also a risk.",
                tips: [
                    "<strong>Preview Activities:</strong> Briefly explain the purpose and process, especially for group work or sharing opinions.",
                    "<strong>Allow Opt-Outs (Where Possible):</strong> Offer alternatives for sensitive discussions/activities.",
                    "<strong>Establish Ground Rules:</strong> Set clear expectations for respectful interaction.",
                    "<strong>Monitor Group Dynamics:</strong> Watch for exclusion or dominance; intervene gently if needed."
                ],
                reflection: "How can you proactively minimize potential risks when planning group activities or discussions on potentially challenging topics?"
            },
            {
                id: "peer-learning",
                title: "6. Create Peer Learning Opportunities",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" /></svg>`,
                definition: "Designing and facilitating activities that encourage meaningful interactions and learning among students from different backgrounds.",
                example: "Using problem-based learning, group projects, peer review, or simple pair work activities.",
                tips: [
                    "<strong>Structure Group Work:</strong> Design specific tasks for groups during tutorials (e.g., debugging, discussing concepts).",
                    "<strong>Assign Diverse Groups:</strong> Intentionally mix students; use random or criteria-based assignment; rotate groups.",
                    "<strong>Scaffold Collaboration:</strong> Provide clear instructions and roles for group activities.",
                    "<strong>Facilitate Peer Teaching:</strong> Have students explain concepts/solutions to each other."
                ],
                reflection: "What is one simple peer interaction activity you could incorporate into your next tutorial? How would you structure it to ensure diverse participation?"
            },
            {
                id: "power-distance",
                title: "7. Navigate Power Distance Differences",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5" /></svg>`,
                definition: "Understanding and adapting to diverse expectations about respect, authority, and formality in the classroom, considering cultural differences in power distance.",
                example: "Students from high power distance cultures might be less likely to question or contradict the GTA directly, while others might be more informal.",
                tips: [
                    "<strong>Set the Tone Early:</strong> State your preferred address and interaction expectations ('Please feel free to ask questions...').",
                    "<strong>Be Mindful of Formality:</strong> Adapt your level of formality, being respectful yet approachable.",
                    "<strong>Interpret Behavior Cautiously:</strong> Don't automatically equate deference/silence with disinterest, or directness with disrespect.",
                    "<strong>Create Lower-Risk Channels:</strong> Remind students of office hours or email."
                ],
                reflection: "How do you currently signal your approachability to students? Are there adjustments you could make to accommodate different expectations regarding instructor-student interaction?"
            },
            {
                id: "roles",
                title: "8. Articulate/Mediate Teacher/Learner Roles",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" /></svg>`,
                definition: "Acknowledging and navigating cultural differences in teacher and student roles, expectations, and behaviours.",
                example: "Some students expect the GTA to provide all answers, while others expect more collaboration. Expectations about student initiative vary.",
                tips: [
                    "<strong>Explicitly State Expectations:</strong> Explain the purpose of tutorials and your role ('My role is to guide... I expect you to try...').",
                    "<strong>Model Desired Behavior:</strong> Demonstrate how to ask effective questions or problem-solve.",
                    "<strong>Explain the 'Why':</strong> Justify your teaching methods briefly.",
                    "<strong>Address Conflicting Expectations:</strong> Gently address mismatches if sensed ('I notice many are waiting... In this tutorial, the goal is...')."
                ],
                reflection: "How clearly do you communicate your expectations for student participation and initiative in your tutorials? What's one way you could make these expectations more explicit?"
            },
            {
                id: "mentoring",
                title: "9. Mentor Students in Transition",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" /></svg>`,
                definition: "Providing guidance and support for students as they adapt to new academic, cultural, and disciplinary norms.",
                example: "Students new to the university, department, or country may struggle with unspoken academic rules, discipline-specific language, or knowing how/when to seek help.",
                tips: [
                    "<strong>Demystify Expectations:</strong> Explain common practices in your discipline.",
                    "<strong>Share Resources:</strong> Point students towards academic support services.",
                    "<strong>Be a Cultural Informant (Appropriately):</strong> Briefly explain local university customs if needed.",
                    "<strong>Share Examples:</strong> Provide examples of successful work or model thought processes."
                ],
                reflection: "What is one piece of 'unspoken' disciplinary or university knowledge that you could explicitly share with students, especially those new to HKUST?"
            },
            {
                id: "academic-integrity",
                title: "10. Articulate Academic Integrity",
                icon: `<svg class="w-5 h-5 mr-2 inline-block text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>`,
                definition: "Communicating the importance of academic integrity, including proper attribution and avoiding plagiarism, to students from diverse cultural and disciplinary backgrounds.",
                example: "Norms around collaboration, citation, and what constitutes original work can differ across educational systems and cultures.",
                tips: [
                    "<strong>Define Plagiarism Clearly:</strong> Explain what it means in your context with concrete examples.",
                    "<strong>Explain Citation Practices:</strong> Explain the 'why' and 'how' for your field.",
                    "<strong>Clarify Collaboration Rules:</strong> Be explicit about what's allowed vs. individual work.",
                    "<strong>Promote Seeking Help:</strong> Encourage students to ask if unsure, framing it as learning."
                ],
                reflection: "How can you proactively discuss academic integrity in your tutorial or office hours in a way that feels supportive rather than purely punitive?"
            }
        ];

        // --- DOM Elements ---
        const navElement = document.getElementById('competency-nav').querySelector('ul');
        const contentElement = document.getElementById('competency-content');
        const sidebar = document.getElementById('sidebar');
        const mobileMenuButton = document.getElementById('mobile-menu-button');

        // --- Functions ---

        /**
         * Displays the content for a given competency index.
         * @param {number} index - The index of the competency in the competencies array.
         */
        function displayCompetency(index) {
             if (index < 0 || index >= competencies.length) {
                 index = 0; // Default to Introduction
             }

            const competency = competencies[index];

            if (competency.id === "introduction") {
                 contentElement.innerHTML = competency.content; // Directly insert introduction HTML
            } else {
                // Build HTML for regular competencies
                const tipsHtml = competency.tips.map(tip => `<li>${tip}</li>`).join('');

                // Using sky-500 for main content icons and reflection border
                contentElement.innerHTML = `
                    <h2 class="text-2xl font-semibold mb-6 text-indigo-700 flex items-center">
                        ${competency.icon.replace('class="w-5 h-5 mr-2 inline-block text-sky-500"','class="w-6 h-6 mr-3 text-sky-500"')} ${competency.title.substring(3)} </h2>
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-indigo-600 mb-2 pb-1 border-b border-indigo-100 inline-block">Definition</h3>
                        <p class="text-gray-700 leading-relaxed mt-2">${competency.definition}</p>
                    </div>
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-indigo-600 mb-2 pb-1 border-b border-indigo-100 inline-block">Example Scenario</h3>
                        <p class="text-gray-700 leading-relaxed mt-2">${competency.example}</p>
                    </div>
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-indigo-600 mb-3 pb-1 border-b border-indigo-100 inline-block">Practical Tips for GTAs</h3>
                        <ul class="tips-list mt-2">
                            ${tipsHtml}
                        </ul>
                    </div>
                     <div class="mt-8 pt-4 border-t border-sky-200"> <h3 class="text-lg font-semibold text-indigo-600 mb-2 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" /></svg>
                            Reflection
                        </h3>
                        <p class="text-gray-700 italic leading-relaxed">${competency.reflection}</p>
                    </div>
                `;
            }
        }

        /**
         * Updates the active state in the navigation.
         * @param {number} activeIndex - The index of the competency to mark as active.
         */
        function updateActiveNav(activeIndex) {
            const navLinks = navElement.querySelectorAll('a');
            navLinks.forEach((link, index) => {
                if (index === activeIndex) {
                    link.classList.add('bg-indigo-50', 'text-indigo-700', 'font-semibold'); // Lighter active background
                    link.classList.remove('text-gray-600', 'hover:bg-gray-100', 'hover:text-gray-900');
                } else {
                    link.classList.remove('bg-indigo-50', 'text-indigo-700', 'font-semibold');
                    link.classList.add('text-gray-600', 'hover:bg-gray-100', 'hover:text-gray-900');
                }
            });
        }

        /**
         * Handles clicks on the navigation links.
         * @param {Event} event - The click event object.
         */
        function handleNavClick(event) {
            event.preventDefault();
            const targetLink = event.target.closest('a');
            if (!targetLink) return;

            const index = parseInt(targetLink.dataset.index, 10);

            if (!isNaN(index)) {
                contentElement.classList.add('fade-out');
                setTimeout(() => {
                    displayCompetency(index);
                    updateActiveNav(index);
                    contentElement.classList.remove('fade-out');
                    contentElement.classList.add('fade-in');
                    // Close sidebar on mobile after clicking a link
                    if (window.innerWidth < 768) { // md breakpoint
                        sidebar.classList.add('-translate-x-full');
                    }
                     // Scroll content area to top
                    contentElement.scrollTop = 0;
                    document.querySelector('main').scrollTop = 0; // Scroll main area too
                }, 150);
            }
        }

         /** Toggles the mobile sidebar visibility. */
        function toggleMobileMenu() {
            sidebar.classList.toggle('-translate-x-full');
        }


        // --- Initialization ---

        // Populate navigation
        competencies.forEach((comp, index) => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `
                <a href="#" data-index="${index}" class="flex items-center py-2.5 px-3 rounded-md text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition duration-150 ease-in-out text-sm group">
                    ${comp.icon}
                    <span class="ml-1 group-hover:text-indigo-600">${comp.title.substring(3)}</span>
                </a>
            `;
            navElement.appendChild(listItem);
        });

        // Add event listeners
        navElement.addEventListener('click', handleNavClick);
        mobileMenuButton.addEventListener('click', toggleMobileMenu);

        // Display Introduction initially
        displayCompetency(0);
        updateActiveNav(0);

    </script>

</body>
</html>
